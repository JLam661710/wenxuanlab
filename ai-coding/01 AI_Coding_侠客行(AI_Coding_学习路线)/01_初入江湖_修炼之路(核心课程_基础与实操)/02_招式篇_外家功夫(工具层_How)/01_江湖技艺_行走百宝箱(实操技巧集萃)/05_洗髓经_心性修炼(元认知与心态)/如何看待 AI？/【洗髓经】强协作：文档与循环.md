## 最佳实践：AI 协作的最小闭环架构

在 AI IDE（如 Cursor/Windsurf/Trae）中，如何避免被 AI 带偏？你需要建立一套**“主权在人”的协作架构**。

### 1. 核心文档体系（The Documentation Stack）
不要把所有信息都塞进 Chat 窗口，你需要维护一套独立于代码之外的**元数据（Metadata）**：

*   **North Star（北极星文档）**
    *   **定义**：项目的终极愿景、核心价值主张、绝对不做的边界（Anti-Goals）。
    *   **作用**：当 AI 跑偏时，用它来“校准”方向。
*   **Roadmap（路线图）**
    *   **定义**：分阶段的里程碑。
    *   **作用**：控制节奏，防止需求蔓延（Feature Creep）。
*   **Decision Log（决策日志）**
    *   **定义**：记录每一次重大技术选型（为什么选 A 不选 B）。
    *   **作用**：防止 AI 遗忘上下文，避免重复讨论已解决的问题。
*   **Kanban Board（任务看板）**
    *   **结构**：`Now`（当前聚焦） / `Next`（下一步） / `Later`（未来规划）。
    *   **作用**：保持专注，一次只做一件事。

### 2. 四步循环法（The Loop）
严格遵循**“定位—收束—落盘—回顾”**的工程循环：

1.  **定位（Locate）**：明确当前处于 Roadmap 的哪个阶段，打开对应的 Context。
2.  **收束（Converge）**：将发散的讨论收敛为具体的 Task，拒绝模棱两可。
3.  **落盘（Commit）**：代码实现，测试通过，Git 提交。**不要在未提交的状态下开始下一个任务。**
4.  **回顾（Review）**：更新 Decision Log，检查是否偏离 North Star。

### 3. 交互模式：从“问答”到“填单”

怎么跟 AI 高效协作？**不要做问答题，要做选择题。**

*   **错误模式**：“你觉得这个功能该怎么做？”（AI 会给你写一篇小作文，包含 5 种方案，让你晕头转向）。
*   **正确模式（表单式交互）**：
    > “请针对这个需求，给出 3 个可行方案，分析优缺点，并**生成一份 Markdown CheckList 表单**。我会在表单中勾选我的决定，并补充细节。”

    **流程**：
    1.  AI 发散方案。
    2.  AI 收敛为**可勾选的表单**。
    3.  人类**做选择（Tick）**、**填备注（Fill）**。
    4.  AI 执行（Execute）。

**这种方式的本质，是将“自然语言的模糊性”转化为“结构化数据的确定性”，这是驾驭 AI 的不二法门。**
