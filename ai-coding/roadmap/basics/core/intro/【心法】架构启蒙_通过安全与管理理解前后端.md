# 架构启蒙：通过“踩坑”理解前后端与云服务

对于非技术背景的学员，直接讲“前端是客户端，后端是服务器”绝对是催眠曲。正如你所说，大家是在“疑惑和踩坑”中学会这些的。
我们要人为地制造这些“坑”，让他们掉进去，再把他们拉上来，这时候他们就懂了。

## 1. 为什么要有后端？—— 从“钱包被偷”说起

### 场景设计：裸奔的 API Key
1.  操作：让学员在纯前端 HTML/JS 里直接写死 `apiKey = "sk-..."`，做出生图功能。能跑，很开心。
2.  攻击：教大家用 F12 Network 抓包。“看，你的 Key 就在这里，全裸的。”
3.  顿悟：
    *   学员：“那怎么办？藏哪里？”
    *   讲师：“藏在一个用户浏览器访问不到的地方。那个地方就叫后端（Server）。”
4.  定义重构：
    *   前端 = 客厅（谁都能进，不能放存折）。
    *   后端 = 保险柜（只有你能开，专门处理钱和机密）。

## 2. 为什么要有数据库？—— 从“健忘的 AI”说起

### 场景设计：动态性格 AI
1.  任务：做一个 AI，早上温柔，晚上暴躁。
2.  初尝试：在 System Prompt 里写死。
    *   *问题*：我想改成“中午搞笑”，得去改代码，重新部署。麻烦死。
3.  进阶尝试：做一个“管理员面板”，有个下拉菜单选性格。
    *   *问题*：我选了“暴躁”，刷新一下页面，又变回默认的“温柔”了。
    *   *学员疑惑*：“它为什么记不住我的选择？”
4.  顿悟：
    *   讲师：“因为程序运行在内存里，像金鱼只有7秒记忆。一刷新（重启），就全忘了。”
    *   学员：“那怎么让它记住？”
    *   讲师：“需要一个记事本，写下来，存硬盘里。这个记事本就叫数据库（Database）。”
5.  定义重构：
    *   数据库 = 程序的长时记忆体。

## 3. 什么是云存储？—— 从“图片链接失效”说起

### 场景设计：消失的图片
1.  操作：AI 生成了一张图，返回了一个 URL。学员把它存到了 `img src="..."`。
2.  现象：过了一个小时，图片裂了（很多生图 API 的临时链接有时效性）。或者学员想把用户上传的头像存下来，发现存如果不存到哪里，一刷新就没了。
3.  疑惑：我该把文件存哪？存后端服务器硬盘？
    *   *风险*：服务器硬盘满了怎么办？服务器挂了图片是不是就丢了？
4.  顿悟：
    *   讲师：“我们需要一个无限大的、永不丢失的云端硬盘。”
    *   讲师：“AWS S3、阿里云 OSS，其实就是网盘。你把文件扔进去，它给你一个永久链接。”
5.  定义重构：
    *   云存储 = 互联网通用的巨型外接硬盘。

## 4. 教学总结

不要孤立地讲架构。
*   安全危机 -> 引出 后端。
*   记忆危机 -> 引出 数据库。
*   存储危机 -> 引出 云存储。

通过这三个“危机”，小白也能在脑海里建立起现代软件架构的 3D 地图。
